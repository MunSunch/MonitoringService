# Monitoring-Service. Домашнее задание Spring Framework

## Требования:

- Java-конфигурация приложения

- Кастомные конфигурационные файлы заменить на application.yml

- Удалить сервлеты, реализовать Rest-контроллеры (Spring MVC)

- Swagger + Swagger UI

- Аспекты переписать на Spring AOP

- Внедрение зависимостей ТОЛЬКО через конструктор

- Удалить всю логику создания сервисов, репозиториев и тд. Приложение должно полностью управляться спрингом

- Добавить тесты на контроллеры (WebMVC)

## Особенности реализации 
[API](https://www.postman.com/navigation-candidate-51855014/workspace/system-projects/collection/27612511-b3e10f74-8d03-4f00-9c28-805ee707e3b1?action=share&creator=27612511)

Реализована JWT аутентификация. Для получения токена обращаться по адресу "/login".
Адреса /login и /register доступны любому пользователю, к остальным требуется токен, 
помешенный в заголовке запроса с названием "Authorization".
Доступ к эндпоинтам осуществляется через конфигурацию на основе разрешений, объявленную в SecurityConfig.java.
Сервлеты переписаны на контроллеры, реализованные в MonitoringServiceBackend.
Аспекты переписаны на Spring AOP, также существует поддержка файлов свойств формата ".yml".
Документация пока не реализована.

По умолчанию предопределены два пользователя USER(login=user,password=user) и ADMIN(login=admin,password=admin) для облегчения тестирования. Что может пользователь с ролью USER:

1. получение актуальных показаний счетчиков
2. подача показаний
3. просмотр показаний за конкретный месяц
4. просмотра истории подачи показаний

Что может пользователь с ролью ADMIN:

1. получение актуальных показаний счетчиков всех пользователей
2. просмотра истории подачи показаний всех пользователей
3. просмотр показаний за конкретный месяц всех пользователей
4. просмотр действий пользователей
5. добавить новый тип показания

## Сборка и запуск проекта
Убедиться, что Docker-daemon присутствует в системе. Перейти в корень и собрать проект:

```
mvn clean install
```

или запуск без прогона интеграционных тестов

```
mvn clean package -DskipTests=true
```
Запустить Postgres:

```
docker compose up -d
```

Запустить получившийся war в apache tomcat 10.x версии.